<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Circle?>

<BorderPane xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.finbasics.controller.RiskAssessmentController"
            stylesheets="@/css/glass.css" style="-fx-background-color:#f4f6f8; -fx-font-family:'Segoe UI';">

    <top>
        <HBox spacing="20" alignment="CENTER_LEFT" style="-fx-background-color:#2c3e50; -fx-padding:15 25;">
            <Button text="&#8592; Back" onAction="#goBack" style="-fx-background-color:rgba(255,255,255,0.1); -fx-text-fill:white; -fx-cursor:hand;"/>
            <Label text="Risk Assessment" style="-fx-text-fill:white; -fx-font-weight:bold; -fx-font-size:16;"/>
        </HBox>
    </top>

    <center>
        <HBox spacing="30" style="-fx-padding:30;">
            <VBox spacing="20" prefWidth="350">
                 <VBox styleClass="metric-card" spacing="15">
                    <HBox alignment="CENTER_LEFT" spacing="15">
                        <Circle radius="25" fill="#bdc3c7"/>
                        <VBox>
                            <Label fx:id="lblBorrowerName" text="Name" style="-fx-font-weight:bold;"/>
                            <Label fx:id="lblAppNumber" text="ID" style="-fx-text-fill:#7f8c8d;"/>
                        </VBox>
                    </HBox>
                    <Separator/>
                    <HBox spacing="10">
                         <VBox HBox.hgrow="ALWAYS"><Label text="Product" styleClass="metric-title"/><Label fx:id="lblProduct" text="-"/></VBox>
                         <VBox HBox.hgrow="ALWAYS"><Label text="Amount" styleClass="metric-title"/><Label fx:id="lblAmount" text="-"/></VBox>
                    </HBox>
                </VBox>

                <VBox styleClass="metric-card" alignment="CENTER" style="-fx-padding: 30;">
                    <Label text="CREDIT TIER" styleClass="metric-title"/>
                    <Label fx:id="lblRiskGrade" text="..." style="-fx-font-size:32; -fx-font-weight:800; -fx-text-fill:#2c3e50;"/>
                    <Label fx:id="lblRecommendation" text="..." style="-fx-text-fill:#7f8c8d;" wrapText="true"/>
                </VBox>
            </VBox>

            <VBox spacing="15" HBox.hgrow="ALWAYS">
                <Label text="Risk Factors" style="-fx-font-size:18; -fx-font-weight:bold;"/>
                <VBox fx:id="factorsContainer" spacing="10"/>
                
                <Region VBox.vgrow="ALWAYS"/>
                
                <VBox spacing="10">
                    <Label text="Decision" style="-fx-font-weight:bold;"/>
                    <TextArea fx:id="txtComments" promptText="Underwriter comments..." prefHeight="80"/>
                    <HBox spacing="10" alignment="CENTER_RIGHT">
                        <Button text="Decline" onAction="#submitDecline" style="-fx-background-color:#c0392b; -fx-text-fill:white;"/>
                        <Button text="Approve w/ Cond." onAction="#submitCondition" style="-fx-background-color:#f39c12; -fx-text-fill:white;"/>
                        <Button text="Approve" onAction="#submitApprove" style="-fx-background-color:#27ae60; -fx-text-fill:white;"/>
                    </HBox>
                </VBox>
            </VBox>
        </HBox>
    </center>
</BorderPane>